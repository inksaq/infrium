/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn more about Gradle by exploring our samples at https://docs.gradle.org/8.0.1/samples
 */
plugins {
    id 'java'
}

group 'com.infrium'
version "${project.version}"

repositories {

    mavenLocal()
    maven {
        url = "https://repo.papermc.io/repository/maven-public/"
    }
    maven {   url = "https://repo.aikar.co/content/groups/aikar/"}
    maven { url = "https://repo.dmulloy2.net/repository/public/" }

    maven {  url = "https://hub.spigotmc.org/nexus/content/repositories/snapshots/" }
    maven { url = "https://oss.sonatype.org/content/repositories/snapshots" }
    maven { url = "https://oss.sonatype.org/content/repositories/central" }
    maven { url = "https://repo.codemc.io/repository/maven-public/" }
    maven { url = "https://repo.spongepowered.org/repository/maven-public/" }
    mavenCentral()
}

dependencies {
    implementation project(":api")
    compileOnly("io.papermc.paper:paper-api:1.21.4-R0.1-SNAPSHOT")
//    compileOnly "org.spigotmc:spigot-api:1.21-R0.1-SNAPSHOT"
//    compileOnly("org.spigotmc:spigot:1.21-R0.1-SNAPSHOT")

    implementation "co.aikar:acf-paper:0.5.1-SNAPSHOT"
    compileOnly fileTree(dir: '../libs', include: '*.jar')
    implementation("de.tr7zw:item-nbt-api:2.13.0")
    implementation 'net.kyori:adventure-text-minimessage:4.13.0'
    implementation('com.google.guava:guava:31.1-jre')
    implementation('com.fasterxml.jackson.core:jackson-core:2.14.2')
    implementation('com.fasterxml.jackson.core:jackson-annotations:2.14.2')
    implementation('com.fasterxml.jackson.core:jackson-databind:2.14.2')
    implementation("com.fasterxml.jackson.module:jackson-module-afterburner:2.14.2")
}


jar.dependsOn shadowJar

def rapiddevPluginsDir = "${parent.projectDir}/rapidlocalhost/plugins"

tasks.register('rapidDev', Copy) {
    from shadowJar
    into rapiddevPluginsDir
}

def candidate = "${parent.projectDir}/release-candidate"

tasks.register('candidateRelease', Copy) {
    from shadowJar
    into candidate
}